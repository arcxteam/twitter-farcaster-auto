<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tools Twitter/X Auto Scroll & Refresh</title>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'JetBrains Mono', monospace;
      padding: 15px;
      width: 385px;
      background-color: #000000;
      color: #ffffff;
    }
    .container {
      text-align: center;
    }
    img.logo {
      width: 385px;
      height: auto;
      margin-bottom: 10px;
    }
    h2 {
      font-size: 18px;
      margin: 10px 0;
      color: #8a2be2;
      transition: color 0.3s ease;
    }
    h2:hover {
      background: linear-gradient(90deg, #8a2be2, #ffd700);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    label {
      display: block;
      margin: 10px 0 5px;
      font-size: 12px;
      font-weight: 700;
      color: #ffffff;
    }
    input[type="number"] {
      width: 100%;
      padding: 8px;
      border: 1px solid #444;
      border-radius: 4px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 12px;
      background-color: #222;
      color: #ffffff;
    }
    button {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      background-color: #8a2be2;
      color: #ffffff;
      border: none;
      border-radius: 4px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 14px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button:active {
      background: linear-gradient(90deg, #8a2be2, #ffd700);
    }
    button:hover {
      background-color: #6a1bb2;
    }
    #status {
      margin-top: 10px;
      font-size: 12px;
      font-weight: 700;
      color: #ffffff;
    }
    .status-icon {
      display: inline-block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-right: 5px;
    }
    .status-on {
      background-color: #00cc00;
    }
    .status-off {
      background-color: #ff0000;
    }
    .notice {
      margin: 10px 0;
      font-size: 10px;
      color: #cccccc;
      line-height: 1.4;
    }
    .links {
      margin: 10px 0;
      font-size: 12px;
    }
    .links a {
      color: #1da1f2;
      text-decoration: none;
      margin: 0 5px;
    }
    .links a:hover {
      text-decoration: underline;
    }
    .slogan {
      margin: 10px 0;
      font-size: 12px;
      font-weight: 700;
      background: linear-gradient(90deg, #8a2be2, #ffd700);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      transition: transform 0.3s ease;
    }
    .slogan:hover {
      transform: scale(1.05);
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="src/logo.png" alt="Extension Logo" class="logo">
    <h2>Twitter/X Auto Scroll & Refresh</h2>
    <label for="scrollTime">Scroll Time (seconds):</label>
    <input type="number" id="scrollTime" min="1" step="1" placeholder="e.g., 1" aria-label="Scroll time in seconds">
    <label for="refreshTime">Refresh Interval (minutes):</label>
    <input type="number" id="refreshTime" min="1" step="1" placeholder="e.g., 10" aria-label="Refresh interval in minutes">
    <button id="toggle" aria-label="Toggle auto-scroll and refresh">Start</button>
    <div id="status"><span class="status-icon status-off"></span>OFF</div>
    <div class="notice">
      This extension provides a tool for auto-scrolling and refreshing the x.com homepage. It is intended for personal use only and should not be used to violate platform rules. The developer is not responsible for any account restrictions or bans resulting from misuse. Â© 2025 Greyscope&Co, By: 0xgrey
    </div>
    <div class="links">
      <a href="https://github.com/arcxteam" target="_blank">FOLLOW ME GITHUB</a> |
      <a href="https://x.com/Gr3yscope/" target="_blank">FOLLOW ME X</a> |
      <a href="https://greyscope.xyz" target="_blank">VISIT GREYSCOPE.XYZ</a>
    </div>
    <div class="slogan">Make Free Great Again</div>
  </div>
  <script src="popup.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const toggleBtn = document.getElementById("toggle");
      const statusDiv = document.getElementById("status");
      const statusIcon = statusDiv.querySelector(".status-icon");

      // Sync status icon with toggle button state
      chrome.storage.local.get("enabled", (data) => {
        if (chrome.runtime.lastError) {
          console.error("Error retrieving storage:", chrome.runtime.lastError);
          return;
        }
        updateStatusIcon(data.enabled);
      });

      toggleBtn.addEventListener("click", () => {
        chrome.storage.local.get("enabled", (data) => {
          if (chrome.runtime.lastError) {
            console.error("Error retrieving storage:", chrome.runtime.lastError);
            return;
          }
          const newState = !data.enabled;
          updateStatusIcon(newState);
        });
      });

      function updateStatusIcon(enabled) {
        if (enabled) {
          statusIcon.classList.remove("status-off");
          statusIcon.classList.add("status-on");
          statusDiv.textContent = "ON";
        } else {
          statusIcon.classList.remove("status-on");
          statusIcon.classList.add("status-off");
          statusDiv.textContent = "OFF";
        }
        statusDiv.prepend(statusIcon);
      }
    });
  </script>
</body>
</html>
